[+] Building container image
Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
#0 building with "desktop-linux" instance using docker driver

#1 [app internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.67kB done
#1 DONE 0.0s

#2 [app] resolve image config for docker-image://docker.io/docker/dockerfile:1.7-labs
#2 DONE 2.6s

#3 [app] docker-image://docker.io/docker/dockerfile:1.7-labs@sha256:b99fecfe00268a8b556fad7d9c37ee25d716ae08a5d7320e6d51c4dd83246894
#3 resolve docker.io/docker/dockerfile:1.7-labs@sha256:b99fecfe00268a8b556fad7d9c37ee25d716ae08a5d7320e6d51c4dd83246894 0.0s done
#3 CACHED

#4 [app internal] load metadata for docker.io/library/python:3.12.8-slim
#4 DONE 1.3s

#5 [app internal] load .dockerignore
#5 transferring context: 308B done
#5 DONE 0.0s

#6 [app base 1/2] FROM docker.io/library/python:3.12.8-slim@sha256:2199a62885a12290dc9c5be3ca0681d367576ab7bf037da120e564723292a2f0
#6 resolve docker.io/library/python:3.12.8-slim@sha256:2199a62885a12290dc9c5be3ca0681d367576ab7bf037da120e564723292a2f0 done
#6 DONE 0.0s

#7 [app internal] load build context
#7 transferring context: 327.77kB 0.0s done
#7 DONE 0.0s

#8 [app builder 2/7] COPY requirements.txt ./
#8 CACHED

#9 [app builder 3/7] RUN --mount=type=cache,target=/root/.cache/pip     pip wheel --wheel-dir=/wheels -r requirements.txt
#9 CACHED

#10 [app builder 4/7] COPY requirements-dev.txt ./
#10 CACHED

#11 [app runtime 1/9] WORKDIR /app
#11 CACHED

#12 [app base 2/2] RUN apt-get update     && apt-get upgrade -y     && rm -rf /var/lib/apt/lists/*     && python -m pip install --no-cache-dir --upgrade pip==24.2 setuptools==78.1.1
#12 CACHED

#13 [app builder 5/7] RUN --mount=type=cache,target=/root/.cache/pip     pip install --no-cache-dir /wheels/* &&     pip install --no-cache-dir -r requirements-dev.txt
#13 CACHED

#14 [app builder 6/7] COPY . .
#14 DONE 0.0s

#15 [app builder 7/7] RUN if [ "false" != "true" ]; then pytest -q --maxfail=1 --disable-warnings; fi
#15 0.805 .......................................................................  [100%]
#15 3.319 71 passed, 136 warnings in 2.68s
#15 DONE 3.4s

#16 [app runtime 2/9] RUN addgroup --system app && adduser --system --ingroup app app
#16 CACHED

#17 [app runtime 3/9] COPY --from=builder /wheels /wheels
#17 CACHED

#18 [app runtime 4/9] RUN --mount=type=cache,target=/root/.cache/pip     pip install /wheels/* &&     rm -rf /wheels
#18 CACHED

#19 [app runtime 5/9] COPY --from=builder /app/app ./app
#19 DONE 0.0s

#20 [app runtime 6/9] COPY --from=builder /app/src ./src
#20 DONE 0.0s

#21 [app runtime 7/9] COPY --from=builder /app/main.py ./main.py
#21 DONE 0.0s

#22 [app runtime 8/9] COPY --from=builder /app/var ./var
#22 DONE 0.0s

#23 [app runtime 9/9] RUN chown -R app:app /app
#23 DONE 0.1s

#24 [app] exporting to image
#24 exporting layers 0.1s done
#24 exporting manifest sha256:e275ea3e75b75f5f7f7ff2850dc34a6105c480409949526a4e94b350ece85834 done
#24 exporting config sha256:ad415adf6f28e3f6145df0036bbbe142f3ca14d10268905048393ccc768eb2ed done
#24 exporting attestation manifest sha256:5d783ec2352d1073e27092cf825e7f2134487edb16635c024687bc5ff54e357d done
#24 exporting manifest list sha256:d651bccaef5ab3dbae23bf26a1c94d3f7647f7b23801aa98b0e7364d501ae9a0 done
#24 naming to docker.io/library/secdev-app:local done
#24 unpacking to docker.io/library/secdev-app:local 0.0s done
#24 DONE 0.1s

#25 [app] resolving provenance for metadata file
#25 DONE 0.0s
[+] Starting stack
[+] Waiting for container to become healthy
[+] Verifying the process user
[+] Health endpoint response
Service healthy
[+] Container hardened and verified
