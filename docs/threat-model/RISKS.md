# Реестр рисков безопасности

## Обзор
Данный документ содержит реестр рисков безопасности для SecDev Course Project с оценкой вероятности (L) и влияния (I) по шкале 1-5.

## Методология оценки
- **L (Likelihood)**: Вероятность реализации риска (1-5)
- **I (Impact)**: Влияние на бизнес (1-5)
- **Risk = L × I**: Общий уровень риска (1-25)

## Реестр рисков

| RiskID | Описание | Связь (F/NFR) | L | I | Risk | Стратегия | Владелец | Срок | Критерий закрытия |
|--------|----------|---------------|---|---|------|-----------|----------|------|-------------------|
| R1 | Брутфорс атаки на аутентификацию | F1, NFR-07 | 4 | 5 | 20 | Снизить | @security-team | 2025-10-20 | Rate limiting + негативные тесты |
| R2 | Утечка PII через ошибки API | F3, NFR-02 | 3 | 5 | 15 | Снизить | @dev-team | 2025-10-25 | RFC7807 + контрактные тесты |
| R3 | Повышение привилегий в БД | F5, NFR-01 | 2 | 5 | 10 | Снизить | @dba-team | 2025-11-01 | RBAC + access reviews |
| R4 | DDoS атаки на API | F4, NFR-03 | 3 | 4 | 12 | Снизить | @ops-team | 2025-10-30 | DDoS protection + мониторинг |
| R5 | Компрометация секретов | F8, NFR-05 | 2 | 5 | 10 | Снизить | @security-team | 2025-11-15 | Secret rotation + vault security |
| R6 | Модификация аудит логов | F10, NFR-06 | 2 | 4 | 8 | Снизить | @security-team | 2025-11-20 | Immutable logs + integrity checks |
| R7 | Утечка токенов аутентификации | Auth Service, NFR-09 | 3 | 4 | 12 | Снизить | @dev-team | 2025-10-28 | Secure token storage + testing |
| R8 | Отказ в обслуживании кэша | F7, NFR-03 | 3 | 3 | 9 | Принять | @ops-team | 2025-11-10 | Cache monitoring + fallback |
| R9 | Подделка внешних интеграций | F11, NFR-08 | 2 | 3 | 6 | Снизить | @integration-team | 2025-12-01 | Certificate validation + mTLS |
| R10 | Манипуляции с логами безопасности | F9, NFR-06 | 2 | 4 | 8 | Снизить | @security-team | 2025-11-25 | Digital signatures + SIEM |
| R11 | Уязвимости в зависимостях | Все, NFR-04 | 4 | 4 | 16 | Снизить | @dev-team | 2025-10-22 | SCA scanning + patch management |
| R12 | Недостаточное логирование | F9, NFR-06 | 3 | 3 | 9 | Снизить | @dev-team | 2025-11-05 | Comprehensive logging + SIEM |

## Детальный анализ рисков

### Критичные риски (Risk ≥ 15)

#### R1: Брутфорс атаки на аутентификацию
- **Описание**: Автоматизированные попытки подбора паролей
- **Влияние**: Компрометация учетных записей пользователей
- **Контроли**: Rate limiting (NFR-07), Account lockout, MFA
- **Метрики**: Количество неудачных попыток входа, время блокировки

#### R2: Утечка PII через ошибки API
- **Описание**: Раскрытие персональных данных в сообщениях об ошибках
- **Влияние**: Нарушение GDPR, репутационные потери
- **Контроли**: RFC7807 формат ошибок (NFR-02), PII маскирование
- **Метрики**: Отсутствие PII в error responses

#### R11: Уязвимости в зависимостях
- **Описание**: Использование уязвимых библиотек и фреймворков
- **Влияние**: Компрометация всей системы
- **Контроли**: SCA scanning (NFR-04), Patch management
- **Метрики**: Количество High/Critical уязвимостей, время до патча

### Высокие риски (Risk 10-14)

#### R3: Повышение привилегий в БД
- **Описание**: Несанкционированный доступ к критичным данным
- **Влияние**: Утечка конфиденциальной информации
- **Контроли**: RBAC (NFR-01), Database encryption, Access reviews
- **Метрики**: Успешные попытки несанкционированного доступа

#### R4: DDoS атаки на API
- **Описание**: Перегрузка API сервиса внешними атаками
- **Влияние**: Недоступность сервиса для пользователей
- **Контроли**: DDoS protection (NFR-03), Rate limiting (NFR-07)
- **Метрики**: Время отклика API, количество заблокированных запросов

#### R5: Компрометация секретов
- **Описание**: Утечка API ключей, паролей, сертификатов
- **Влияние**: Полная компрометация системы
- **Контроли**: Secret rotation (NFR-05), Vault security
- **Метрики**: Время ротации секретов, попытки несанкционированного доступа

#### R7: Утечка токенов аутентификации
- **Описание**: Перехват или утечка JWT токенов
- **Влияние**: Несанкционированный доступ к API
- **Контроли**: Secure token storage (NFR-09), Token rotation
- **Метрики**: Время жизни токенов, количество скомпрометированных токенов

### Средние риски (Risk 6-9)

#### R6: Модификация аудит логов
- **Описание**: Изменение или удаление логов безопасности
- **Влияние**: Нарушение compliance, невозможность расследований
- **Контроли**: Immutable logs (NFR-06), Digital signatures
- **Метрики**: Целостность логов, попытки модификации

#### R8: Отказ в обслуживании кэша
- **Описание**: Недоступность кэша, снижение производительности
- **Влияние**: Ухудшение пользовательского опыта
- **Контроли**: Cache monitoring, Fallback mechanisms
- **Метрики**: Доступность кэша, время отклика

#### R9: Подделка внешних интеграций
- **Описание**: Компрометация внешних API и сервисов
- **Влияние**: Нарушение интеграций, утечка данных
- **Контроли**: Certificate validation (NFR-08), mTLS
- **Метрики**: Успешность SSL handshake, валидация сертификатов

#### R10: Манипуляции с логами безопасности
- **Описание**: Изменение логов для сокрытия атак
- **Влияние**: Нарушение расследований инцидентов
- **Контроли**: Digital signatures (NFR-06), SIEM monitoring
- **Метрики**: Целостность логов, детекция аномалий

#### R12: Недостаточное логирование
- **Описание**: Отсутствие критичных событий в логах
- **Влияние**: Невозможность расследований, нарушение compliance
- **Контроли**: Comprehensive logging (NFR-06), SIEM integration
- **Метрики**: Покрытие событий логированием, качество логов

## Стратегии управления рисками

### Снизить (Mitigate)
- **R1, R2, R3, R4, R5, R6, R7, R9, R10, R11, R12**: Реализация контролей безопасности
- **Сроки**: 2025-10-20 до 2025-12-01
- **Ответственные**: Security team, Dev team, Ops team

### Принять (Accept)
- **R8**: Отказ в обслуживании кэша - приемлемый риск
- **Обоснование**: Влияние на бизнес минимально, есть fallback механизмы

### Избежать (Avoid)
- **Нет рисков** для избежания в текущем контексте

### Перенести (Transfer)
- **Нет рисков** для переноса (например, на страховую компанию)

## План реализации контролей

### Фаза 1 (2025-10-20 до 2025-10-30)
1. **R1**: Внедрение rate limiting
2. **R2**: Реализация RFC7807 формата ошибок
3. **R4**: Настройка DDoS защиты
4. **R11**: Интеграция SCA сканирования

### Фаза 2 (2025-10-30 до 2025-11-15)
1. **R3**: Настройка RBAC
2. **R5**: Внедрение ротации секретов
3. **R7**: Улучшение безопасности токенов

### Фаза 3 (2025-11-15 до 2025-12-01)
1. **R6**: Настройка immutable логов
2. **R9**: Улучшение валидации сертификатов
3. **R10**: Внедрение digital signatures
4. **R12**: Расширение логирования

## Мониторинг и отчетность

### Еженедельные отчеты
- Статус реализации контролей
- Количество инцидентов по категориям
- Метрики безопасности

### Ежемесячные обзоры
- Переоценка рисков
- Анализ эффективности контролей
- Обновление планов

### Квартальные аудиты
- Полная переоценка рисков
- Анализ соответствия требованиям
- Планирование на следующий квартал
